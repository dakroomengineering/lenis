!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("tiny-emitter"),require("virtual-scroll")):"function"==typeof define&&define.amd?define(["tiny-emitter","virtual-scroll"],e):(t||self).lenis=e(t.tinyEmitter,t.virtualScroll)}(this,function(t,e){function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=/*#__PURE__*/r(t),o=/*#__PURE__*/r(e);function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},l.apply(this,arguments)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}var c="0.2.2";function h(t,e,r){return Math.max(t,Math.min(e,r))}var d=["duration","easing"],u=/*#__PURE__*/function(){function t(){}var e=t.prototype;return e.to=function(t,e){var r=this,i=void 0===e?{}:e,o=i.duration,n=void 0===o?1:o,s=i.easing,a=void 0===s?function(t){return t}:s,c=function(t,e){if(null==t)return{};var r,i,o={},n=Object.keys(t);for(i=0;i<n.length;i++)e.indexOf(r=n[i])>=0||(o[r]=t[r]);return o}(i,d);this.target=t,this.fromKeys=l({},c),this.toKeys=l({},c),this.keys=Object.keys(l({},c)),this.keys.forEach(function(e){r.fromKeys[e]=t[e]}),this.duration=n,this.easing=a,this.currentTime=0,this.isRunning=!0},e.raf=function(t){var e=this;if(this.isRunning){this.currentTime=Math.min(this.currentTime+.001*t,this.duration);var r=this.easing(this.progress);this.keys.forEach(function(t){var i=e.fromKeys[t];e.target[t]=i+(e.toKeys[t]-i)*r}),1===r&&(this.isRunning=!1)}},s(t,[{key:"progress",get:function(){return this.currentTime/this.duration}}]),t}(),p=/*#__PURE__*/function(t){var e,r;function i(e){var r,i,n,s,l=void 0===e?{}:e,a=l.duration,d=void 0===a?1.2:a,p=l.easing,f=void 0===p?function(t){return 1===t?1:1-Math.pow(2,-10*t)}:p,v=l.smooth,g=void 0===v||v,w=l.direction,y=void 0===w?"vertical":w,m=l.wrapper,b=void 0===m?window:m,S=l.content,O=void 0===S?document.body:S;(s=t.call(this)||this).onWindowResize=function(){s.wrapperWidth=window.innerWidth,s.wrapperHeight=window.innerHeight},s.onWrapperResize=function(t){var e=t[0];if(e){var r=e.contentRect;s.wrapperWidth=r.width,s.wrapperHeight=r.height}},s.onContentResize=function(t){var e=t[0];if(e){var r=e.contentRect;s.contentWidth=r.width,s.contentHeight=r.height}},s.onVirtualScroll=function(t){var e=t.deltaY,r=t.originalEvent;!r.ctrlKey&&s.smooth&&(s.stopped?r.preventDefault():(s.smooth&&r.preventDefault(),s.targetScroll-=e,s.targetScroll=h(0,s.targetScroll,s.limit),s.scrollTo(s.targetScroll)))},s.onScroll=function(){s.isScrolling&&s.smooth||(s.targetScroll=s.scroll=s.lastScroll=s.wrapperNode[s.scrollProperty],s.notify())},void 0!==arguments[0].lerp&&console.warn("Lenis: lerp option is deprecated, you must use duration and easing options instead. See documentation https://github.com/studio-freight/lenis"),window.lenisVersion=c,s.wrapperNode=b,s.contentNode=O,s.duration=d,s.easing=f,s.smooth=g,s.direction=y,s.wrapperNode.addEventListener("scroll",s.onScroll);var N=(null==(r=navigator)||null==(i=r.userAgentData)?void 0:i.platform)||(null==(n=navigator)?void 0:n.platform)||"unknown";return s.wrapperNode===window?(s.wrapperNode.addEventListener("resize",s.onWindowResize),s.onWindowResize()):(s.wrapperHeight=s.wrapperNode.offsetHeight,s.wrapperWidth=s.wrapperNode.offsetWidth,s.wrapperObserver=new ResizeObserver(s.onWrapperResize),s.wrapperObserver.observe(s.wrapperNode)),s.contentHeight=s.contentNode.offsetHeight,s.contentWidth=s.contentNode.offsetWidth,s.contentObserver=new ResizeObserver(s.onContentResize),s.contentObserver.observe(s.contentNode),s.targetScroll=s.scroll=s.lastScroll=s.wrapperNode[s.scrollProperty],s.animate=new u,s.virtualScroll=new o.default({el:s.wrapperNode,firefoxMultiplier:50,mouseMultiplier:N.indexOf("Win")>-1?1:.4,useKeyboard:!1,useTouch:!1,passive:!1}),s.virtualScroll.on(s.onVirtualScroll),s}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,a(e,r);var n=i.prototype;return n.start=function(){this.stopped=!1},n.stop=function(){this.stopped=!0},n.destroy=function(){var t;this.wrapperNode===window&&this.wrapperNode.removeEventListener("resize",this.onWindowResize),this.wrapperNode.removeEventListener("scroll",this.onScroll),this.virtualScroll.destroy(),null==(t=this.wrapperObserver)||t.disconnect(),this.contentObserver.disconnect()},n.raf=function(t){var e=t-(this.now||0);this.now=t,!this.stopped&&this.smooth&&(this.lastScroll=this.scroll,this.animate.raf(e),Math.round(this.scroll)===Math.round(this.targetScroll)&&(this.lastScroll=this.targetScroll),this.isScrolling&&(this.setScroll(this.scroll),this.notify()),this.isScrolling=this.scroll!==this.targetScroll)},n.setScroll=function(t){"horizontal"===this.direction?this.wrapperNode.scrollTo(t,0):this.wrapperNode.scrollTo(0,t)},n.notify=function(){this.emit("scroll",{scroll:this.scroll,limit:this.limit,velocity:this.velocity,direction:this.direction,progress:this.scroll/this.limit})},n.scrollTo=function(t,e){var r,i=void 0===e?{}:e,o=i.offset,n=i.immediate,s=void 0!==n&&n,l=i.duration,a=void 0===l?this.duration:l,c=i.easing,h=void 0===c?this.easing:c;r="number"==typeof t?t:0,this.targetScroll=r+=void 0===o?0:o,!this.smooth||s?this.setScroll(this.targetScroll):this.animate.to(this,{duration:a,easing:h,scroll:this.targetScroll})},s(i,[{key:"scrollProperty",get:function(){return this.wrapperNode===window?"horizontal"===this.direction?"scrollX":"scrollY":"horizontal"===this.direction?"scrollLeft":"scrollTop"}},{key:"limit",get:function(){return"horizontal"===this.direction?this.contentWidth-this.wrapperWidth:this.contentHeight-this.wrapperHeight}},{key:"velocity",get:function(){return this.scroll-this.lastScroll}}]),i}(i.default);return p});
//# sourceMappingURL=lenis.umd.js.map
